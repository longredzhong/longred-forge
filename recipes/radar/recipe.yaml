# yaml-language-server: $schema=https://raw.githubusercontent.com/prefix-dev/recipe-format/main/schema.json
context:
  version: 0.9.8
package:
  name: radar
  version: ${{ version }}
source:
- if: linux and x86_64
  then:
  - url: https://github.com/skyhook-io/radar/releases/download/v${{ version }}/radar_v${{
      version }}_linux_amd64.tar.gz
    sha256: 01cced0e2b0e5b8d8911af0388ff5ee90391768028fed31a523accae8d34a6da
- if: osx and x86_64
  then:
  - url: https://github.com/skyhook-io/radar/releases/download/v${{ version }}/radar_v${{
      version }}_darwin_amd64.tar.gz
    sha256: b0aa9d234ff423a7974699a6e48690242d67ae5671c11a9fdbdd64dc3fb30b24
- if: osx and arm64
  then:
  - url: https://github.com/skyhook-io/radar/releases/download/v${{ version }}/radar_v${{
      version }}_darwin_arm64.tar.gz
    sha256: cfc17147f2db43c7d9dd192a4825f5f4e879992540fae32eb8cb6e4162f5489e
- if: win and x86_64
  then:
  - url: https://github.com/skyhook-io/radar/releases/download/v${{ version }}/radar_v${{
      version }}_windows_amd64.zip
    sha256: 8c68fad28c14805a451e94876e3d8460f9fa6d1a95a99aabe4579d5e894e4707
build:
  number: 0
  dynamic_linking:
    binary_relocation: false
    rpath_allowlist:
    - '**/*'
  script: 'python -c "import os, shutil, stat, sys; prefix = os.environ.get(''PREFIX'');
    [exit(1) if not prefix else None]; bin_dir = os.path.join(prefix, ''bin'') if
    (sys.platform.startswith(''linux'') or sys.platform == ''darwin'') else os.path.join(prefix,
    ''Scripts''); binary_name = ''kubectl-radar'' if (sys.platform.startswith(''linux'')
    or sys.platform == ''darwin'') else ''kubectl-radar.exe''; os.makedirs(bin_dir,
    exist_ok=True); source_patterns = [binary_name, f''./{binary_name}'', os.path.join(''.'',
    binary_name)]; source_file = next((p for p in source_patterns if os.path.isfile(p)),
    None); [exit(1) if not source_file else None]; dest_file = os.path.join(bin_dir,
    binary_name); shutil.copy2(source_file, dest_file); (lambda: os.chmod(dest_file,
    os.stat(dest_file).st_mode | stat.S_IEXEC | stat.S_IXUSR | stat.S_IXGRP | stat.S_IXOTH)
    if (sys.platform.startswith(''linux'') or sys.platform == ''darwin'') else None)()"

    '
requirements:
  build: null
  run: null
tests:
- script:
  - kubectl-radar --version
about:
  homepage: https://github.com/skyhook-io/radar
  repository: https://github.com/skyhook-io/radar
  documentation: https://github.com/skyhook-io/radar/blob/main/docs
  license: Apache-2.0
  summary: Modern Kubernetes visibility - Local-first, no account, no cloud dependency
  description: 'Radar provides modern Kubernetes visibility with topology, event timeline,
    and service traffic.


    It features resource browsing, Helm management, and GitOps support for FluxCD
    and ArgoCD.


    Zero install on your cluster - runs on your laptop, talks to the K8s API directly.
    Single binary

    with no dependencies, no agents, no CRDs. Blazing fast with smart caching, progressive
    loading,

    and parallelization. Works in airgapped environments with no external network
    calls.

    '
extra:
  recipe-maintainers:
  - longredzhong
