# yaml-language-server: $schema=https://raw.githubusercontent.com/prefix-dev/recipe-format/main/schema.json
context:
  version: 0.77.37
package:
  name: hatchet-cli
  version: '${{ version }}'
source:
  - if: linux and x86_64
    then:
      - url: >-
          https://github.com/hatchet-dev/hatchet/releases/download/v${{ version
          }}/hatchet_${{ version }}_Linux_x86_64.tar.gz
        sha256: 8b8c58ef607b9a0dc7c6c33f988346f866f8b60e06c89b2b5ae8717a4ad12362
  - if: osx and x86_64
    then:
      - url: >-
          https://github.com/hatchet-dev/hatchet/releases/download/v${{ version
          }}/hatchet_${{ version }}_Darwin_x86_64.tar.gz
        sha256: 29abc103979057b551d3101c914d3b980d74541b0042795f812842dc6280c665
  - if: osx and arm64
    then:
      - url: >-
          https://github.com/hatchet-dev/hatchet/releases/download/v${{ version
          }}/hatchet_${{ version }}_Darwin_arm64.tar.gz
        sha256: ce7f7370b33187a04bf2ef32d3638af325680b07d3ad8e2d0c8b9c8d8ffa649a
build:
  number: 0
  dynamic_linking:
    binary_relocation: false
    rpath_allowlist:
      - '**/*'
  script:
    - mkdir -p $PREFIX/bin
    - cp hatchet $PREFIX/bin/
    - chmod +x $PREFIX/bin/hatchet
requirements:
  build: null
  run: null
tests:
  - script:
      - hatchet --version
about:
  homepage: 'https://hatchet.run'
  license: MIT
  summary: The Hatchet CLI for managing workflows and background tasks
  description: >
    Hatchet is an open-source platform for running background tasks and durable
    workflows at scale.

    The CLI allows you to manage workers, workflows, and operate local or remote
    Hatchet environments.
  repository: 'https://github.com/hatchet-dev/hatchet'
  documentation: 'https://docs.hatchet.run'
extra:
  recipe-maintainers:
    - longredzhong
