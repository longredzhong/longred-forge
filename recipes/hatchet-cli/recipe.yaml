context:
  version: "0.77.18"

package:
  name: hatchet-cli
  version: ${{ version }}

source:
  - url: https://github.com/hatchet-dev/hatchet/releases/download/v${{ version }}/hatchet_${{ version }}_Linux_x86_64.tar.gz  # [linux and x86_64]
    sha256: skip  # [linux and x86_64]
  - url: https://github.com/hatchet-dev/hatchet/releases/download/v${{ version }}/hatchet_${{ version }}_Darwin_x86_64.tar.gz  # [osx and x86_64]
    sha256: skip  # [osx and x86_64]
  - url: https://github.com/hatchet-dev/hatchet/releases/download/v${{ version }}/hatchet_${{ version }}_Darwin_arm64.tar.gz  # [osx and arm64]
    sha256: skip  # [osx and arm64]

build:
  number: 0
  script:
    - mkdir -p $PREFIX/bin  # [unix]
    - cp hatchet $PREFIX/bin/  # [unix]
    - chmod +x $PREFIX/bin/hatchet  # [unix]

requirements:
  build:
  run:

tests:
  - script:
      - hatchet --version

about:
  homepage: https://hatchet.run
  license: MIT
  license_file: LICENSE
  summary: The Hatchet CLI for managing workflows and background tasks
  description: |
    Hatchet is an open-source platform for running background tasks and durable workflows at scale.
    The CLI allows you to manage workers, workflows, and operate local or remote Hatchet environments.
  repository: https://github.com/hatchet-dev/hatchet
  documentation: https://docs.hatchet.run

extra:
  recipe-maintainers:
    - longredzhong
