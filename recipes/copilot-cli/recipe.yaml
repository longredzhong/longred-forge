# yaml-language-server: $schema=https://raw.githubusercontent.com/prefix-dev/recipe-format/main/schema.json
context:
  version: 0.0.415
package:
  name: copilot-cli
  version: ${{ version }}
source:
- if: linux and x86_64
  then:
  - url: https://github.com/github/copilot-cli/releases/download/v${{ version }}/copilot-linux-x64.tar.gz
    sha256: fa013b719dc2f0a6b9a071aef5de85f5d5f53264415f4eb3a3e5cd3eac321a4a
- if: linux and arm64
  then:
  - url: https://github.com/github/copilot-cli/releases/download/v${{ version }}/copilot-linux-arm64.tar.gz
    sha256: b88926d243ce872c4443894107b1be6b87d09f3e6fec0332b0032c5aa62ba767
- if: osx and x86_64
  then:
  - url: https://github.com/github/copilot-cli/releases/download/v${{ version }}/copilot-darwin-x64.tar.gz
    sha256: 8dd7d2d4f927a81c708bcd78115404b86c7dea1b4c485e0e11361a0a55209e72
- if: osx and arm64
  then:
  - url: https://github.com/github/copilot-cli/releases/download/v${{ version }}/copilot-darwin-arm64.tar.gz
    sha256: fee662566acc6793b1e959d4b3b1f0484fdd151c0c016451857cc2074856d232
- if: win and x86_64
  then:
  - url: https://github.com/github/copilot-cli/releases/download/v${{ version }}/copilot-win32-x64.zip
    sha256: 0ee36977fe73b9454d9f964f1dd51dea7e796686e63e85ce48ac9fbdec78b619
build:
  number: 0
  dynamic_linking:
    binary_relocation: false
    rpath_allowlist:
    - '**/*'
  script: 'python -c "import os, shutil, stat, sys; prefix = os.environ.get(''PREFIX'');
    [exit(1) if not prefix else None]; bin_dir = os.path.join(prefix, ''bin'') if
    (sys.platform.startswith(''linux'') or sys.platform == ''darwin'') else os.path.join(prefix,
    ''Scripts''); binary_name = ''copilot'' if (sys.platform.startswith(''linux'')
    or sys.platform == ''darwin'') else ''copilot.exe''; os.makedirs(bin_dir, exist_ok=True);
    source_patterns = [binary_name, f''./{binary_name}'', os.path.join(''.'', binary_name)];
    source_file = next((p for p in source_patterns if os.path.isfile(p)), None); [exit(1)
    if not source_file else None]; dest_file = os.path.join(bin_dir, binary_name);
    shutil.copy2(source_file, dest_file); (lambda: os.chmod(dest_file, os.stat(dest_file).st_mode
    | stat.S_IEXEC | stat.S_IXUSR | stat.S_IXGRP | stat.S_IXOTH) if (sys.platform.startswith(''linux'')
    or sys.platform == ''darwin'') else None)()"

    '
requirements:
  build: null
  run: null
tests:
- script:
  - copilot --version
about:
  homepage: https://github.com/github/copilot-cli
  repository: https://github.com/github/copilot-cli
  documentation: https://docs.github.com/en/copilot/concepts/agents/about-copilot-cli
  license: MIT
  summary: GitHub Copilot CLI - Command-line interface for GitHub Copilot
  description: 'GitHub Copilot CLI is a command-line interface for GitHub Copilot
    that provides access to Copilot''s capabilities from your terminal.

    '
